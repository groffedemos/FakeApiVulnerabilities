events { 
    worker_connections 1024; 
}

http {
    server {
        listen 80;

        # location / {
        #     default_type text/plain;
        #     add_header X-AspNet-Version "4.8";
        #     add_header X-Debug-Token "abc123";
        #     add_header X-Powered-By "NGINX";
        #     return 200 'Sensitive data exposure: password=gIHiZt9Tp26OzX';
        # }

        location ~ /\.env$ {
            default_type text/plain;
            add_header X-AspNet-Version "4.8";
            add_header X-Debug-Token "abc123";
            add_header X-Powered-By "NGINX";
            return 200 'DATABASE_URL=postgres://admin:vsLqI66eNMHVGC@testes.azure.net:5432/basecontagem
SECRET_KEY=vsLqI66eNMHVGC
DEBUG=true
PORT=8080';
        }

        location ~ /Trace\.axd {
            default_type text/plain;
            add_header X-AspNet-Version "4.8";
            add_header X-Debug-Token "abc123";
            add_header X-Powered-By "NGINX";
            return 200 'Trace Information:
Request ID: 12345
Application Path: /var/www/html
Server Name: test-server
User Authentication: admin
Session ID: abcdefghijklmnop
Database Connection String: Server=10.0.0.1;Database=baserh;User Id=postgres;Password=vsLqI66eNMHVGC;';
        }


        location ~ /CHANGELOG\.txt {
            default_type text/plain;
            add_header X-AspNet-Version "4.8";
            add_header X-Debug-Token "abc123";
            add_header X-Powered-By "NGINX";
            return 200 'CHANGELOG
            1.0.0 - 2024-01-01
            - Initial release with basic functionality.
            
            1.1.0 - 2024-02-01
            - Added new features for user management.
            
            1.2.0 - 2024-03-01
            - Bug fixes and performance improvements.
            
            1.3.0 - 2024-04-01
            - Enhanced security features and updated documentation.';
        }

        # Endpoint to generate a high-risk vulnerability for ZAP Scan
        location /vulnerable {
            default_type text/plain;
            add_header X-AspNet-Version "4.8";
            add_header X-Debug-Token "abc123";
            add_header X-Powered-By "NGINX";
        }

        location /saudacao {
            default_type application/json;
            add_header X-AspNet-Version "4.8";
            add_header X-Debug-Token "abc123";
            add_header X-Powered-By "NGINX";
            return 200 '{"saudacao": "Ola mundo!", "ano": 2024}';
        }

        location /openapi {
            default_type application/json;
            return 200 '{
                "openapi": "3.0.0",
                "info": {
                    "title": "Saudacao API",
                    "version": "1.0.0"
                },
                "paths": {
                    "/saudacao": {
                        "get": {
                            "summary": "Retorna uma saudacao",
                            "responses": {
                                "200": {
                                    "description": "Saudacao bem-sucedida",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "saudacao": {
                                                        "type": "string",
                                                        "example": "Ola mundo!"
                                                    },
                                                    "ano": {
                                                        "type": "integer",
                                                        "example": 2024
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }';
        }
    }
}